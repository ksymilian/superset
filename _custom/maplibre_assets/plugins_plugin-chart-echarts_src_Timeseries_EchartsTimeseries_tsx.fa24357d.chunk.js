"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(globalThis["webpackChunksuperset"] = globalThis["webpackChunksuperset"] || []).push([["plugins_plugin-chart-echarts_src_Timeseries_EchartsTimeseries_tsx"],{

/***/ "./plugins/plugin-chart-echarts/src/Timeseries/EchartsTimeseries.tsx":
/*!***************************************************************************!*\
  !*** ./plugins/plugin-chart-echarts/src/Timeseries/EchartsTimeseries.tsx ***!
  \***************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EchartsTimeseries)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _components_Echart__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Echart */ \"./plugins/plugin-chart-echarts/src/components/Echart.tsx\");\n/* harmony import */ var _utils_series__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/series */ \"./plugins/plugin-chart-echarts/src/utils/series.ts\");\n/* harmony import */ var _components_ExtraControls__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ExtraControls */ \"./plugins/plugin-chart-echarts/src/components/ExtraControls.tsx\");\n/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @emotion/react */ \"./node_modules/@emotion/react/dist/emotion-react.browser.esm.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\n\n\nconst TIMER_DURATION = 300;\n// @ts-ignore\nfunction EchartsTimeseries({ formData, height, width, echartOptions, groupby, labelMap, selectedValues, setDataMask, setControlValue, legendData = [] }) {\n  const { emitFilter, stack } = formData;\n  const echartRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const lastTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(Date.now());\n  const lastSelectedLegend = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)('');\n  const clickTimer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const handleDoubleClickChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((name) => {var _echartRef$current;\n    const echartInstance = (_echartRef$current = echartRef.current) == null ? void 0 : _echartRef$current.getEchartInstance();\n    if (!name) {\n      _utils_series__WEBPACK_IMPORTED_MODULE_1__.currentSeries.legend = '';\n      echartInstance == null ? void 0 : echartInstance.dispatchAction({\n        type: 'legendAllSelect' });\n\n    } else\n    {\n      legendData.forEach((datum) => {\n        if (datum === name) {\n          _utils_series__WEBPACK_IMPORTED_MODULE_1__.currentSeries.legend = datum;\n          echartInstance == null ? void 0 : echartInstance.dispatchAction({\n            type: 'legendSelect',\n            name: datum });\n\n        } else\n        {\n          echartInstance == null ? void 0 : echartInstance.dispatchAction({\n            type: 'legendUnSelect',\n            name: datum });\n\n        }\n      });\n    }\n  }, [legendData]);\n  const getModelInfo = (target, globalModel) => {\n    let el = target;\n    let model = null;\n    while (el) {\n      // eslint-disable-next-line no-underscore-dangle\n      const modelInfo = el.__ecComponentInfo;\n      if (modelInfo != null) {\n        model = globalModel.getComponent(modelInfo.mainType, modelInfo.index);\n        break;\n      }\n      el = el.parent;\n    }\n    return model;\n  };\n  const handleChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((values) => {\n    if (!emitFilter) {\n      return;\n    }\n    const groupbyValues = values.map((value) => labelMap[value]);\n    setDataMask({\n      extraFormData: {\n        filters: values.length === 0 ?\n        [] :\n        groupby.map((col, idx) => {\n          const val = groupbyValues.map((v) => v[idx]);\n          if (val === null || val === undefined)\n          return {\n            col,\n            op: 'IS NULL' };\n\n          return {\n            col,\n            op: 'IN',\n            val: val };\n\n        }) },\n\n      filterState: {\n        label: groupbyValues.length ? groupbyValues : undefined,\n        value: groupbyValues.length ? groupbyValues : null,\n        selectedValues: values.length ? values : null } });\n\n\n  }, [groupby, labelMap, setDataMask, emitFilter]);\n  const eventHandlers = {\n    click: (props) => {\n      if (clickTimer.current) {\n        clearTimeout(clickTimer.current);\n      }\n      // Ensure that double-click events do not trigger single click event. So we put it in the timer.\n      clickTimer.current = setTimeout(() => {\n        const { seriesName: name } = props;\n        const values = Object.values(selectedValues);\n        if (values.includes(name)) {\n          handleChange(values.filter((v) => v !== name));\n        } else\n        {\n          handleChange([name]);\n        }\n      }, TIMER_DURATION);\n    },\n    mouseout: () => {\n      _utils_series__WEBPACK_IMPORTED_MODULE_1__.currentSeries.name = '';\n    },\n    mouseover: (params) => {\n      _utils_series__WEBPACK_IMPORTED_MODULE_1__.currentSeries.name = params.seriesName;\n    },\n    legendselectchanged: (payload) => {\n      const currentTime = Date.now();\n      // TIMER_DURATION is the interval between two legendselectchanged event\n      if (currentTime - lastTimeRef.current < TIMER_DURATION &&\n      lastSelectedLegend.current === payload.name) {\n        // execute dbclick\n        handleDoubleClickChange(payload.name);\n      } else\n      {\n        lastTimeRef.current = currentTime;\n        // remember last selected legend\n        lastSelectedLegend.current = payload.name;\n      }\n      // if all legend is unselected, we keep all selected\n      if (Object.values(payload.selected).every((i) => !i)) {\n        handleDoubleClickChange();\n      }\n    } };\n\n  const zrEventHandlers = {\n    dblclick: (params) => {var _echartRef$current2;\n      // clear single click timer\n      if (clickTimer.current) {\n        clearTimeout(clickTimer.current);\n      }\n      const pointInPixel = [params.offsetX, params.offsetY];\n      const echartInstance = (_echartRef$current2 = echartRef.current) == null ? void 0 : _echartRef$current2.getEchartInstance();\n      if (echartInstance != null && echartInstance.containPixel('grid', pointInPixel)) {var _params$target;\n        // do not trigger if click unstacked chart's blank area\n        if (!stack && ((_params$target = params.target) == null ? void 0 : _params$target.type) === 'ec-polygon')\n        return;\n        // @ts-ignore\n        const globalModel = echartInstance.getModel();\n        const model = getModelInfo(params.target, globalModel);\n        const seriesCount = globalModel.getSeriesCount();\n        const currentSeriesIndices = globalModel.getCurrentSeriesIndices();\n        if (model) {\n          const { name } = model;\n          if (seriesCount !== currentSeriesIndices.length) {\n            handleDoubleClickChange();\n          } else\n          {\n            handleDoubleClickChange(name);\n          }\n        }\n      }\n    } };\n\n  return (0,_emotion_react__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n  (0,_emotion_react__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_ExtraControls__WEBPACK_IMPORTED_MODULE_3__.ExtraControls, { formData: formData, setControlValue: setControlValue }),\n  (0,_emotion_react__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_Echart__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { ref: echartRef, height: height, width: width, echartOptions: echartOptions, eventHandlers: eventHandlers, zrEventHandlers: zrEventHandlers, selectedValues: selectedValues }));\n\n}__signature__(EchartsTimeseries, \"useRef{echartRef}\\nuseRef{lastTimeRef}\\nuseRef{lastSelectedLegend}\\nuseRef{clickTimer}\\nuseCallback{handleDoubleClickChange}\\nuseCallback{handleChange}\");;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(TIMER_DURATION, \"TIMER_DURATION\", \"/home/maks/repos/ss/superset-mod/superset-frontend/plugins/plugin-chart-echarts/src/Timeseries/EchartsTimeseries.tsx\");reactHotLoader.register(EchartsTimeseries, \"EchartsTimeseries\", \"/home/maks/repos/ss/superset-mod/superset-frontend/plugins/plugin-chart-echarts/src/Timeseries/EchartsTimeseries.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wbHVnaW5zL3BsdWdpbi1jaGFydC1lY2hhcnRzL3NyYy9UaW1lc2VyaWVzL0VjaGFydHNUaW1lc2VyaWVzLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUVBO0FBQ0E7O0FBV0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL3BsdWdpbnMvcGx1Z2luLWNoYXJ0LWVjaGFydHMvc3JjL1RpbWVzZXJpZXMvRWNoYXJ0c1RpbWVzZXJpZXMudHN4P2I2OGYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBWaWV3Um9vdEdyb3VwIH0gZnJvbSAnZWNoYXJ0cy90eXBlcy9zcmMvdXRpbC90eXBlcyc7XG5pbXBvcnQgR2xvYmFsTW9kZWwgZnJvbSAnZWNoYXJ0cy90eXBlcy9zcmMvbW9kZWwvR2xvYmFsJztcbmltcG9ydCBDb21wb25lbnRNb2RlbCBmcm9tICdlY2hhcnRzL3R5cGVzL3NyYy9tb2RlbC9Db21wb25lbnQnO1xuaW1wb3J0IHsgRWNoYXJ0c0hhbmRsZXIsIEV2ZW50SGFuZGxlcnMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgRWNoYXJ0IGZyb20gJy4uL2NvbXBvbmVudHMvRWNoYXJ0JztcbmltcG9ydCB7IFRpbWVzZXJpZXNDaGFydFRyYW5zZm9ybWVkUHJvcHMgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGN1cnJlbnRTZXJpZXMgfSBmcm9tICcuLi91dGlscy9zZXJpZXMnO1xuaW1wb3J0IHsgRXh0cmFDb250cm9scyB9IGZyb20gJy4uL2NvbXBvbmVudHMvRXh0cmFDb250cm9scyc7XG5cbmNvbnN0IFRJTUVSX0RVUkFUSU9OID0gMzAwO1xuXG4vLyBAdHMtaWdub3JlXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFY2hhcnRzVGltZXNlcmllcyh7XG4gIGZvcm1EYXRhLFxuICBoZWlnaHQsXG4gIHdpZHRoLFxuICBlY2hhcnRPcHRpb25zLFxuICBncm91cGJ5LFxuICBsYWJlbE1hcCxcbiAgc2VsZWN0ZWRWYWx1ZXMsXG4gIHNldERhdGFNYXNrLFxuICBzZXRDb250cm9sVmFsdWUsXG4gIGxlZ2VuZERhdGEgPSBbXSxcbn06IFRpbWVzZXJpZXNDaGFydFRyYW5zZm9ybWVkUHJvcHMpIHtcbiAgY29uc3QgeyBlbWl0RmlsdGVyLCBzdGFjayB9ID0gZm9ybURhdGE7XG4gIGNvbnN0IGVjaGFydFJlZiA9IHVzZVJlZjxFY2hhcnRzSGFuZGxlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBsYXN0VGltZVJlZiA9IHVzZVJlZihEYXRlLm5vdygpKTtcbiAgY29uc3QgbGFzdFNlbGVjdGVkTGVnZW5kID0gdXNlUmVmKCcnKTtcbiAgY29uc3QgY2xpY2tUaW1lciA9IHVzZVJlZjxSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0Pj4oKTtcblxuICBjb25zdCBoYW5kbGVEb3VibGVDbGlja0NoYW5nZSA9IHVzZUNhbGxiYWNrKFxuICAgIChuYW1lPzogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCBlY2hhcnRJbnN0YW5jZSA9IGVjaGFydFJlZi5jdXJyZW50Py5nZXRFY2hhcnRJbnN0YW5jZSgpO1xuICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIGN1cnJlbnRTZXJpZXMubGVnZW5kID0gJyc7XG4gICAgICAgIGVjaGFydEluc3RhbmNlPy5kaXNwYXRjaEFjdGlvbih7XG4gICAgICAgICAgdHlwZTogJ2xlZ2VuZEFsbFNlbGVjdCcsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVnZW5kRGF0YS5mb3JFYWNoKGRhdHVtID0+IHtcbiAgICAgICAgICBpZiAoZGF0dW0gPT09IG5hbWUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTZXJpZXMubGVnZW5kID0gZGF0dW07XG4gICAgICAgICAgICBlY2hhcnRJbnN0YW5jZT8uZGlzcGF0Y2hBY3Rpb24oe1xuICAgICAgICAgICAgICB0eXBlOiAnbGVnZW5kU2VsZWN0JyxcbiAgICAgICAgICAgICAgbmFtZTogZGF0dW0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWNoYXJ0SW5zdGFuY2U/LmRpc3BhdGNoQWN0aW9uKHtcbiAgICAgICAgICAgICAgdHlwZTogJ2xlZ2VuZFVuU2VsZWN0JyxcbiAgICAgICAgICAgICAgbmFtZTogZGF0dW0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2xlZ2VuZERhdGFdLFxuICApO1xuXG4gIGNvbnN0IGdldE1vZGVsSW5mbyA9ICh0YXJnZXQ6IFZpZXdSb290R3JvdXAsIGdsb2JhbE1vZGVsOiBHbG9iYWxNb2RlbCkgPT4ge1xuICAgIGxldCBlbCA9IHRhcmdldDtcbiAgICBsZXQgbW9kZWw6IENvbXBvbmVudE1vZGVsIHwgbnVsbCA9IG51bGw7XG4gICAgd2hpbGUgKGVsKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGVcbiAgICAgIGNvbnN0IG1vZGVsSW5mbyA9IGVsLl9fZWNDb21wb25lbnRJbmZvO1xuICAgICAgaWYgKG1vZGVsSW5mbyAhPSBudWxsKSB7XG4gICAgICAgIG1vZGVsID0gZ2xvYmFsTW9kZWwuZ2V0Q29tcG9uZW50KG1vZGVsSW5mby5tYWluVHlwZSwgbW9kZWxJbmZvLmluZGV4KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBlbCA9IGVsLnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGVsO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IHVzZUNhbGxiYWNrKFxuICAgICh2YWx1ZXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgICBpZiAoIWVtaXRGaWx0ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZ3JvdXBieVZhbHVlcyA9IHZhbHVlcy5tYXAodmFsdWUgPT4gbGFiZWxNYXBbdmFsdWVdKTtcblxuICAgICAgc2V0RGF0YU1hc2soe1xuICAgICAgICBleHRyYUZvcm1EYXRhOiB7XG4gICAgICAgICAgZmlsdGVyczpcbiAgICAgICAgICAgIHZhbHVlcy5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgPyBbXVxuICAgICAgICAgICAgICA6IGdyb3VwYnkubWFwKChjb2wsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gZ3JvdXBieVZhbHVlcy5tYXAodiA9PiB2W2lkeF0pO1xuICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb2wsXG4gICAgICAgICAgICAgICAgICAgICAgb3A6ICdJUyBOVUxMJyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbCxcbiAgICAgICAgICAgICAgICAgICAgb3A6ICdJTicsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogdmFsIGFzIChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdLFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgfSxcbiAgICAgICAgZmlsdGVyU3RhdGU6IHtcbiAgICAgICAgICBsYWJlbDogZ3JvdXBieVZhbHVlcy5sZW5ndGggPyBncm91cGJ5VmFsdWVzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIHZhbHVlOiBncm91cGJ5VmFsdWVzLmxlbmd0aCA/IGdyb3VwYnlWYWx1ZXMgOiBudWxsLFxuICAgICAgICAgIHNlbGVjdGVkVmFsdWVzOiB2YWx1ZXMubGVuZ3RoID8gdmFsdWVzIDogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW2dyb3VwYnksIGxhYmVsTWFwLCBzZXREYXRhTWFzaywgZW1pdEZpbHRlcl0sXG4gICk7XG5cbiAgY29uc3QgZXZlbnRIYW5kbGVyczogRXZlbnRIYW5kbGVycyA9IHtcbiAgICBjbGljazogcHJvcHMgPT4ge1xuICAgICAgaWYgKGNsaWNrVGltZXIuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoY2xpY2tUaW1lci5jdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIC8vIEVuc3VyZSB0aGF0IGRvdWJsZS1jbGljayBldmVudHMgZG8gbm90IHRyaWdnZXIgc2luZ2xlIGNsaWNrIGV2ZW50LiBTbyB3ZSBwdXQgaXQgaW4gdGhlIHRpbWVyLlxuICAgICAgY2xpY2tUaW1lci5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc2VyaWVzTmFtZTogbmFtZSB9ID0gcHJvcHM7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXMoc2VsZWN0ZWRWYWx1ZXMpO1xuICAgICAgICBpZiAodmFsdWVzLmluY2x1ZGVzKG5hbWUpKSB7XG4gICAgICAgICAgaGFuZGxlQ2hhbmdlKHZhbHVlcy5maWx0ZXIodiA9PiB2ICE9PSBuYW1lKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFuZGxlQ2hhbmdlKFtuYW1lXSk7XG4gICAgICAgIH1cbiAgICAgIH0sIFRJTUVSX0RVUkFUSU9OKTtcbiAgICB9LFxuICAgIG1vdXNlb3V0OiAoKSA9PiB7XG4gICAgICBjdXJyZW50U2VyaWVzLm5hbWUgPSAnJztcbiAgICB9LFxuICAgIG1vdXNlb3ZlcjogcGFyYW1zID0+IHtcbiAgICAgIGN1cnJlbnRTZXJpZXMubmFtZSA9IHBhcmFtcy5zZXJpZXNOYW1lO1xuICAgIH0sXG4gICAgbGVnZW5kc2VsZWN0Y2hhbmdlZDogcGF5bG9hZCA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgICAvLyBUSU1FUl9EVVJBVElPTiBpcyB0aGUgaW50ZXJ2YWwgYmV0d2VlbiB0d28gbGVnZW5kc2VsZWN0Y2hhbmdlZCBldmVudFxuICAgICAgaWYgKFxuICAgICAgICBjdXJyZW50VGltZSAtIGxhc3RUaW1lUmVmLmN1cnJlbnQgPCBUSU1FUl9EVVJBVElPTiAmJlxuICAgICAgICBsYXN0U2VsZWN0ZWRMZWdlbmQuY3VycmVudCA9PT0gcGF5bG9hZC5uYW1lXG4gICAgICApIHtcbiAgICAgICAgLy8gZXhlY3V0ZSBkYmNsaWNrXG4gICAgICAgIGhhbmRsZURvdWJsZUNsaWNrQ2hhbmdlKHBheWxvYWQubmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYXN0VGltZVJlZi5jdXJyZW50ID0gY3VycmVudFRpbWU7XG4gICAgICAgIC8vIHJlbWVtYmVyIGxhc3Qgc2VsZWN0ZWQgbGVnZW5kXG4gICAgICAgIGxhc3RTZWxlY3RlZExlZ2VuZC5jdXJyZW50ID0gcGF5bG9hZC5uYW1lO1xuICAgICAgfVxuICAgICAgLy8gaWYgYWxsIGxlZ2VuZCBpcyB1bnNlbGVjdGVkLCB3ZSBrZWVwIGFsbCBzZWxlY3RlZFxuICAgICAgaWYgKE9iamVjdC52YWx1ZXMocGF5bG9hZC5zZWxlY3RlZCkuZXZlcnkoaSA9PiAhaSkpIHtcbiAgICAgICAgaGFuZGxlRG91YmxlQ2xpY2tDaGFuZ2UoKTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IHpyRXZlbnRIYW5kbGVyczogRXZlbnRIYW5kbGVycyA9IHtcbiAgICBkYmxjbGljazogcGFyYW1zID0+IHtcbiAgICAgIC8vIGNsZWFyIHNpbmdsZSBjbGljayB0aW1lclxuICAgICAgaWYgKGNsaWNrVGltZXIuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoY2xpY2tUaW1lci5jdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBvaW50SW5QaXhlbCA9IFtwYXJhbXMub2Zmc2V0WCwgcGFyYW1zLm9mZnNldFldO1xuICAgICAgY29uc3QgZWNoYXJ0SW5zdGFuY2UgPSBlY2hhcnRSZWYuY3VycmVudD8uZ2V0RWNoYXJ0SW5zdGFuY2UoKTtcbiAgICAgIGlmIChlY2hhcnRJbnN0YW5jZT8uY29udGFpblBpeGVsKCdncmlkJywgcG9pbnRJblBpeGVsKSkge1xuICAgICAgICAvLyBkbyBub3QgdHJpZ2dlciBpZiBjbGljayB1bnN0YWNrZWQgY2hhcnQncyBibGFuayBhcmVhXG4gICAgICAgIGlmICghc3RhY2sgJiYgcGFyYW1zLnRhcmdldD8udHlwZSA9PT0gJ2VjLXBvbHlnb24nKSByZXR1cm47XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgZ2xvYmFsTW9kZWwgPSBlY2hhcnRJbnN0YW5jZS5nZXRNb2RlbCgpO1xuICAgICAgICBjb25zdCBtb2RlbCA9IGdldE1vZGVsSW5mbyhwYXJhbXMudGFyZ2V0LCBnbG9iYWxNb2RlbCk7XG4gICAgICAgIGNvbnN0IHNlcmllc0NvdW50ID0gZ2xvYmFsTW9kZWwuZ2V0U2VyaWVzQ291bnQoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFNlcmllc0luZGljZXMgPSBnbG9iYWxNb2RlbC5nZXRDdXJyZW50U2VyaWVzSW5kaWNlcygpO1xuICAgICAgICBpZiAobW9kZWwpIHtcbiAgICAgICAgICBjb25zdCB7IG5hbWUgfSA9IG1vZGVsO1xuICAgICAgICAgIGlmIChzZXJpZXNDb3VudCAhPT0gY3VycmVudFNlcmllc0luZGljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBoYW5kbGVEb3VibGVDbGlja0NoYW5nZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVEb3VibGVDbGlja0NoYW5nZShuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxFeHRyYUNvbnRyb2xzIGZvcm1EYXRhPXtmb3JtRGF0YX0gc2V0Q29udHJvbFZhbHVlPXtzZXRDb250cm9sVmFsdWV9IC8+XG4gICAgICA8RWNoYXJ0XG4gICAgICAgIHJlZj17ZWNoYXJ0UmVmfVxuICAgICAgICBoZWlnaHQ9e2hlaWdodH1cbiAgICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgICBlY2hhcnRPcHRpb25zPXtlY2hhcnRPcHRpb25zfVxuICAgICAgICBldmVudEhhbmRsZXJzPXtldmVudEhhbmRsZXJzfVxuICAgICAgICB6ckV2ZW50SGFuZGxlcnM9e3pyRXZlbnRIYW5kbGVyc31cbiAgICAgICAgc2VsZWN0ZWRWYWx1ZXM9e3NlbGVjdGVkVmFsdWVzfVxuICAgICAgLz5cbiAgICA8Lz5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./plugins/plugin-chart-echarts/src/Timeseries/EchartsTimeseries.tsx\n");

/***/ }),

/***/ "./plugins/plugin-chart-echarts/src/components/Echart.tsx":
/*!****************************************************************!*\
  !*** ./plugins/plugin-chart-echarts/src/components/Echart.tsx ***!
  \****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/style/index.tsx\");\n/* harmony import */ var echarts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! echarts */ \"./node_modules/echarts/index.js\");\n/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @emotion/react */ \"./node_modules/@emotion/react/dist/emotion-react.browser.esm.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\n\nconst Styles = _superset_ui_core__WEBPACK_IMPORTED_MODULE_2__.styled.div`\n  height: ${({ height }) => height};\n  width: ${({ width }) => width};\n`;\nfunction Echart({ width, height, echartOptions, eventHandlers, zrEventHandlers, selectedValues = {} }, ref) {\n  const divRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const chartRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const currentSelection = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => Object.keys(selectedValues) || [], [selectedValues]);\n  const previousSelection = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => ({\n    getEchartInstance: () => chartRef.current }));\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!divRef.current)\n    return;\n    if (!chartRef.current) {\n      chartRef.current = (0,echarts__WEBPACK_IMPORTED_MODULE_1__.init)(divRef.current);\n    }\n    Object.entries(eventHandlers || {}).forEach(([name, handler]) => {var _chartRef$current, _chartRef$current2;\n      (_chartRef$current = chartRef.current) == null ? void 0 : _chartRef$current.off(name);\n      (_chartRef$current2 = chartRef.current) == null ? void 0 : _chartRef$current2.on(name, handler);\n    });\n    Object.entries(zrEventHandlers || {}).forEach(([name, handler]) => {var _chartRef$current3, _chartRef$current4;\n      (_chartRef$current3 = chartRef.current) == null ? void 0 : _chartRef$current3.getZr().off(name);\n      (_chartRef$current4 = chartRef.current) == null ? void 0 : _chartRef$current4.getZr().on(name, handler);\n    });\n    chartRef.current.setOption(echartOptions, true);\n  }, [echartOptions, eventHandlers, zrEventHandlers]);\n  // highlighting\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!chartRef.current)\n    return;\n    chartRef.current.dispatchAction({\n      type: 'downplay',\n      dataIndex: previousSelection.current.filter((value) => !currentSelection.includes(value)) });\n\n    if (currentSelection.length) {\n      chartRef.current.dispatchAction({\n        type: 'highlight',\n        dataIndex: currentSelection });\n\n    }\n    previousSelection.current = currentSelection;\n  }, [currentSelection]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (chartRef.current) {\n      chartRef.current.resize({ width, height });\n    }\n  }, [width, height]);\n  return (0,_emotion_react__WEBPACK_IMPORTED_MODULE_3__.jsx)(Styles, { ref: divRef, height: height, width: width });\n}__signature__(Echart, \"useRef{divRef}\\nuseRef{chartRef}\\nuseMemo{currentSelection}\\nuseRef{previousSelection}\\nuseImperativeHandle{}\\nuseEffect{}\\nuseEffect{}\\nuseEffect{}\", () => [react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle]);const _default = /*#__PURE__*/\n(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(Echart);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_default);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(Styles, \"Styles\", \"/home/maks/repos/ss/superset-mod/superset-frontend/plugins/plugin-chart-echarts/src/components/Echart.tsx\");reactHotLoader.register(Echart, \"Echart\", \"/home/maks/repos/ss/superset-mod/superset-frontend/plugins/plugin-chart-echarts/src/components/Echart.tsx\");reactHotLoader.register(_default, \"default\", \"/home/maks/repos/ss/superset-mod/superset-frontend/plugins/plugin-chart-echarts/src/components/Echart.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wbHVnaW5zL3BsdWdpbi1jaGFydC1lY2hhcnRzL3NyYy9jb21wb25lbnRzL0VjaGFydC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7QUFDQTtBQU9BO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBV0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBOztBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vcGx1Z2lucy9wbHVnaW4tY2hhcnQtZWNoYXJ0cy9zcmMvY29tcG9uZW50cy9FY2hhcnQudHN4P2NlODMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7XG4gIHVzZVJlZixcbiAgdXNlRWZmZWN0LFxuICB1c2VNZW1vLFxuICBmb3J3YXJkUmVmLFxuICB1c2VJbXBlcmF0aXZlSGFuZGxlLFxufSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzdHlsZWQgfSBmcm9tICdAc3VwZXJzZXQtdWkvY29yZSc7XG5pbXBvcnQgeyBFQ2hhcnRzLCBpbml0IH0gZnJvbSAnZWNoYXJ0cyc7XG5pbXBvcnQgeyBFY2hhcnRzSGFuZGxlciwgRWNoYXJ0c1Byb3BzLCBFY2hhcnRzU3R5bGVzUHJvcHMgfSBmcm9tICcuLi90eXBlcyc7XG5cbmNvbnN0IFN0eWxlcyA9IHN0eWxlZC5kaXY8RWNoYXJ0c1N0eWxlc1Byb3BzPmBcbiAgaGVpZ2h0OiAkeyh7IGhlaWdodCB9KSA9PiBoZWlnaHR9O1xuICB3aWR0aDogJHsoeyB3aWR0aCB9KSA9PiB3aWR0aH07XG5gO1xuXG5mdW5jdGlvbiBFY2hhcnQoXG4gIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgZWNoYXJ0T3B0aW9ucyxcbiAgICBldmVudEhhbmRsZXJzLFxuICAgIHpyRXZlbnRIYW5kbGVycyxcbiAgICBzZWxlY3RlZFZhbHVlcyA9IHt9LFxuICB9OiBFY2hhcnRzUHJvcHMsXG4gIHJlZjogUmVhY3QuUmVmPEVjaGFydHNIYW5kbGVyPixcbikge1xuICBjb25zdCBkaXZSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBjaGFydFJlZiA9IHVzZVJlZjxFQ2hhcnRzPigpO1xuICBjb25zdCBjdXJyZW50U2VsZWN0aW9uID0gdXNlTWVtbyhcbiAgICAoKSA9PiBPYmplY3Qua2V5cyhzZWxlY3RlZFZhbHVlcykgfHwgW10sXG4gICAgW3NlbGVjdGVkVmFsdWVzXSxcbiAgKTtcbiAgY29uc3QgcHJldmlvdXNTZWxlY3Rpb24gPSB1c2VSZWY8c3RyaW5nW10+KFtdKTtcblxuICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gKHtcbiAgICBnZXRFY2hhcnRJbnN0YW5jZTogKCkgPT4gY2hhcnRSZWYuY3VycmVudCxcbiAgfSkpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFkaXZSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIGlmICghY2hhcnRSZWYuY3VycmVudCkge1xuICAgICAgY2hhcnRSZWYuY3VycmVudCA9IGluaXQoZGl2UmVmLmN1cnJlbnQpO1xuICAgIH1cblxuICAgIE9iamVjdC5lbnRyaWVzKGV2ZW50SGFuZGxlcnMgfHwge30pLmZvckVhY2goKFtuYW1lLCBoYW5kbGVyXSkgPT4ge1xuICAgICAgY2hhcnRSZWYuY3VycmVudD8ub2ZmKG5hbWUpO1xuICAgICAgY2hhcnRSZWYuY3VycmVudD8ub24obmFtZSwgaGFuZGxlcik7XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZW50cmllcyh6ckV2ZW50SGFuZGxlcnMgfHwge30pLmZvckVhY2goKFtuYW1lLCBoYW5kbGVyXSkgPT4ge1xuICAgICAgY2hhcnRSZWYuY3VycmVudD8uZ2V0WnIoKS5vZmYobmFtZSk7XG4gICAgICBjaGFydFJlZi5jdXJyZW50Py5nZXRacigpLm9uKG5hbWUsIGhhbmRsZXIpO1xuICAgIH0pO1xuXG4gICAgY2hhcnRSZWYuY3VycmVudC5zZXRPcHRpb24oZWNoYXJ0T3B0aW9ucywgdHJ1ZSk7XG4gIH0sIFtlY2hhcnRPcHRpb25zLCBldmVudEhhbmRsZXJzLCB6ckV2ZW50SGFuZGxlcnNdKTtcblxuICAvLyBoaWdobGlnaHRpbmdcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNoYXJ0UmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBjaGFydFJlZi5jdXJyZW50LmRpc3BhdGNoQWN0aW9uKHtcbiAgICAgIHR5cGU6ICdkb3ducGxheScsXG4gICAgICBkYXRhSW5kZXg6IHByZXZpb3VzU2VsZWN0aW9uLmN1cnJlbnQuZmlsdGVyKFxuICAgICAgICB2YWx1ZSA9PiAhY3VycmVudFNlbGVjdGlvbi5pbmNsdWRlcyh2YWx1ZSksXG4gICAgICApLFxuICAgIH0pO1xuICAgIGlmIChjdXJyZW50U2VsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgY2hhcnRSZWYuY3VycmVudC5kaXNwYXRjaEFjdGlvbih7XG4gICAgICAgIHR5cGU6ICdoaWdobGlnaHQnLFxuICAgICAgICBkYXRhSW5kZXg6IGN1cnJlbnRTZWxlY3Rpb24sXG4gICAgICB9KTtcbiAgICB9XG4gICAgcHJldmlvdXNTZWxlY3Rpb24uY3VycmVudCA9IGN1cnJlbnRTZWxlY3Rpb247XG4gIH0sIFtjdXJyZW50U2VsZWN0aW9uXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2hhcnRSZWYuY3VycmVudCkge1xuICAgICAgY2hhcnRSZWYuY3VycmVudC5yZXNpemUoeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgIH1cbiAgfSwgW3dpZHRoLCBoZWlnaHRdKTtcblxuICByZXR1cm4gPFN0eWxlcyByZWY9e2RpdlJlZn0gaGVpZ2h0PXtoZWlnaHR9IHdpZHRoPXt3aWR0aH0gLz47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZvcndhcmRSZWYoRWNoYXJ0KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./plugins/plugin-chart-echarts/src/components/Echart.tsx\n");

/***/ }),

/***/ "./plugins/plugin-chart-echarts/src/components/ExtraControls.tsx":
/*!***********************************************************************!*\
  !*** ./plugins/plugin-chart-echarts/src/components/ExtraControls.tsx ***!
  \***********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ExtraControls\": () => (/* binding */ ExtraControls)\n/* harmony export */ });\n/* unused harmony export useExtraControl */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/style/index.tsx\");\n/* harmony import */ var _superset_ui_chart_controls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @superset-ui/chart-controls */ \"./packages/superset-ui-chart-controls/src/shared-controls/components/index.tsx\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ \"./plugins/plugin-chart-echarts/src/constants.ts\");\n/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @emotion/react */ \"./node_modules/@emotion/react/dist/emotion-react.browser.esm.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\n\n\nconst { RadioButtonControl } = _superset_ui_chart_controls__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\nconst ExtraControlsWrapper = _superset_ui_core__WEBPACK_IMPORTED_MODULE_2__.styled.div`\n  text-align: center;\n`;\nfunction useExtraControl({ formData, setControlValue }) {\n  const { stack, area } = formData;\n  const [extraValue, setExtraValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(stack != null ? stack : undefined);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    setExtraValue(stack);\n  }, [stack]);\n  const extraControlsOptions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (area) {\n      return _constants__WEBPACK_IMPORTED_MODULE_3__.AreaChartExtraControlsOptions;\n    }\n    return [];\n  }, [area]);\n  const extraControlsHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value) => {\n    if (area) {\n      if (setControlValue) {\n        setControlValue('stack', value);\n        setExtraValue(value);\n      }\n    }\n  }, [area, setControlValue]);\n  return {\n    extraControlsOptions,\n    extraControlsHandler,\n    extraValue };\n\n}__signature__(useExtraControl, \"useState{[extraValue, setExtraValue](stack ?? undefined)}\\nuseEffect{}\\nuseMemo{extraControlsOptions}\\nuseCallback{extraControlsHandler}\");\nfunction ExtraControls({ formData, setControlValue }) {\n  const { extraControlsOptions, extraControlsHandler, extraValue } = useExtraControl({\n    formData,\n    setControlValue });\n\n  if (!formData.showExtraControls) {\n    return null;\n  }\n  return (0,_emotion_react__WEBPACK_IMPORTED_MODULE_4__.jsx)(ExtraControlsWrapper, null,\n  (0,_emotion_react__WEBPACK_IMPORTED_MODULE_4__.jsx)(RadioButtonControl, { options: extraControlsOptions, onChange: extraControlsHandler, value: extraValue }));\n\n}__signature__(ExtraControls, \"useExtraControl{{ extraControlsOptions, extraControlsHandler, extraValue }}\", () => [useExtraControl]);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(RadioButtonControl, \"RadioButtonControl\", \"/home/maks/repos/ss/superset-mod/superset-frontend/plugins/plugin-chart-echarts/src/components/ExtraControls.tsx\");reactHotLoader.register(ExtraControlsWrapper, \"ExtraControlsWrapper\", \"/home/maks/repos/ss/superset-mod/superset-frontend/plugins/plugin-chart-echarts/src/components/ExtraControls.tsx\");reactHotLoader.register(useExtraControl, \"useExtraControl\", \"/home/maks/repos/ss/superset-mod/superset-frontend/plugins/plugin-chart-echarts/src/components/ExtraControls.tsx\");reactHotLoader.register(ExtraControls, \"ExtraControls\", \"/home/maks/repos/ss/superset-mod/superset-frontend/plugins/plugin-chart-echarts/src/components/ExtraControls.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wbHVnaW5zL3BsdWdpbi1jaGFydC1lY2hhcnRzL3NyYy9jb21wb25lbnRzL0V4dHJhQ29udHJvbHMudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBRUE7O0FBRUE7QUFFQTtBQVlBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQWFBO0FBRUE7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOztBQU9BIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9wbHVnaW5zL3BsdWdpbi1jaGFydC1lY2hhcnRzL3NyYy9jb21wb25lbnRzL0V4dHJhQ29udHJvbHMudHN4Pzk1N2IiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSGFuZGxlckZ1bmN0aW9uLCBKc29uVmFsdWUsIHN0eWxlZCB9IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcbmltcG9ydCB7XG4gIFJhZGlvQnV0dG9uT3B0aW9uLFxuICBzaGFyZWRDb250cm9sQ29tcG9uZW50cyxcbn0gZnJvbSAnQHN1cGVyc2V0LXVpL2NoYXJ0LWNvbnRyb2xzJztcbmltcG9ydCB7IEFyZWFDaGFydEV4dHJhQ29udHJvbHNPcHRpb25zIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY29uc3QgeyBSYWRpb0J1dHRvbkNvbnRyb2wgfSA9IHNoYXJlZENvbnRyb2xDb21wb25lbnRzO1xuXG5jb25zdCBFeHRyYUNvbnRyb2xzV3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbmA7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VFeHRyYUNvbnRyb2w8XG4gIEYgZXh0ZW5kcyB7XG4gICAgc3RhY2s6IGFueTtcbiAgICBhcmVhOiBib29sZWFuO1xuICB9LFxuPih7XG4gIGZvcm1EYXRhLFxuICBzZXRDb250cm9sVmFsdWUsXG59OiB7XG4gIGZvcm1EYXRhOiBGO1xuICBzZXRDb250cm9sVmFsdWU/OiBIYW5kbGVyRnVuY3Rpb247XG59KSB7XG4gIGNvbnN0IHsgc3RhY2ssIGFyZWEgfSA9IGZvcm1EYXRhO1xuICBjb25zdCBbZXh0cmFWYWx1ZSwgc2V0RXh0cmFWYWx1ZV0gPSB1c2VTdGF0ZTxKc29uVmFsdWUgfCB1bmRlZmluZWQ+KFxuICAgIHN0YWNrID8/IHVuZGVmaW5lZCxcbiAgKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldEV4dHJhVmFsdWUoc3RhY2spO1xuICB9LCBbc3RhY2tdKTtcblxuICBjb25zdCBleHRyYUNvbnRyb2xzT3B0aW9ucyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChhcmVhKSB7XG4gICAgICByZXR1cm4gQXJlYUNoYXJ0RXh0cmFDb250cm9sc09wdGlvbnM7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfSwgW2FyZWFdKTtcblxuICBjb25zdCBleHRyYUNvbnRyb2xzSGFuZGxlciA9IHVzZUNhbGxiYWNrKFxuICAgICh2YWx1ZTogUmFkaW9CdXR0b25PcHRpb25bMF0pID0+IHtcbiAgICAgIGlmIChhcmVhKSB7XG4gICAgICAgIGlmIChzZXRDb250cm9sVmFsdWUpIHtcbiAgICAgICAgICBzZXRDb250cm9sVmFsdWUoJ3N0YWNrJywgdmFsdWUpO1xuICAgICAgICAgIHNldEV4dHJhVmFsdWUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBbYXJlYSwgc2V0Q29udHJvbFZhbHVlXSxcbiAgKTtcblxuICByZXR1cm4ge1xuICAgIGV4dHJhQ29udHJvbHNPcHRpb25zLFxuICAgIGV4dHJhQ29udHJvbHNIYW5kbGVyLFxuICAgIGV4dHJhVmFsdWUsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFeHRyYUNvbnRyb2xzPFxuICBGIGV4dGVuZHMge1xuICAgIHN0YWNrOiBhbnk7XG4gICAgYXJlYTogYm9vbGVhbjtcbiAgICBzaG93RXh0cmFDb250cm9sczogYm9vbGVhbjtcbiAgfSxcbj4oe1xuICBmb3JtRGF0YSxcbiAgc2V0Q29udHJvbFZhbHVlLFxufToge1xuICBmb3JtRGF0YTogRjtcbiAgc2V0Q29udHJvbFZhbHVlPzogSGFuZGxlckZ1bmN0aW9uO1xufSkge1xuICBjb25zdCB7IGV4dHJhQ29udHJvbHNPcHRpb25zLCBleHRyYUNvbnRyb2xzSGFuZGxlciwgZXh0cmFWYWx1ZSB9ID1cbiAgICB1c2VFeHRyYUNvbnRyb2w8Rj4oe1xuICAgICAgZm9ybURhdGEsXG4gICAgICBzZXRDb250cm9sVmFsdWUsXG4gICAgfSk7XG5cbiAgaWYgKCFmb3JtRGF0YS5zaG93RXh0cmFDb250cm9scykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8RXh0cmFDb250cm9sc1dyYXBwZXI+XG4gICAgICA8UmFkaW9CdXR0b25Db250cm9sXG4gICAgICAgIG9wdGlvbnM9e2V4dHJhQ29udHJvbHNPcHRpb25zfVxuICAgICAgICBvbkNoYW5nZT17ZXh0cmFDb250cm9sc0hhbmRsZXJ9XG4gICAgICAgIHZhbHVlPXtleHRyYVZhbHVlfVxuICAgICAgLz5cbiAgICA8L0V4dHJhQ29udHJvbHNXcmFwcGVyPlxuICApO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./plugins/plugin-chart-echarts/src/components/ExtraControls.tsx\n");

/***/ })

}]);